<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Delegate-CH" content="sec-ch-ua-full-version-list https://cloud.51degrees.com; sec-ch-ua-model https://cloud.51degrees.com; sec-ch-ua-platform https://cloud.51degrees.com; sec-ch-ua-platform-version https://cloud.51degrees.com"/>
</head>
<body>
    <h1>Thank you for sharing</h1>
    <div id="htmlExampleOutput"></div>
</body>
<script async src="https://cloud.51degrees.com/api/v4/AQQp5zqSnQnjduyn3Eg.js"></script> 
<script type="text/javascript">
    window.onload = function() {
        fod.complete(function (data) {
            // Fetch the properties from the JSON response and write to the page.
            const deviceInfo = {
                isMobile: data.device["ismobile"],
                hardwareVendor: data.device["hardwarevendor"],
                hardwareName: data.device["hardwarename"],
                hardwareModel: data.device["hardwaremodel"],
                fullscreen: data.device["fullscreen"],
                screenPixelsWidth: data.device["screenpixelswidth"],
                screenPixelsHeight: data.device["screenpixelsheight"],
            };

            // Send device info to server
            fetch('/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(deviceInfo)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });

            // Display the device info on the page
            //addText(JSON.stringify(deviceInfo, null, 2));
        });
    }

    function addText(text) {
        document.getElementById("htmlExampleOutput").innerHTML += text + "<br>";
    }
</script>
</html>
